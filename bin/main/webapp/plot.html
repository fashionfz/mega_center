<html>
<head>
<title>Rect</title>
    <link rel="stylesheet" type="text/css" href="themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="themes/icon.css">
    <link rel="stylesheet" type="text/css" href="demo.css">
<style type="text/css">
.td1{ background-color:Silver;}    

.mytable {   
    padding: 0;
    margin: 0;   
    border-collapse:collapse;
    cursor:crosshair;
}

td {
    border: 1px solid #C1DAD7;   
    background: #fff;
    font-size:11px;
    padding: 0px 0px 0px 0px;
    color: #4f6b72;
    text-align:center;
}

td.alt {
    background: #F5FAFA;
    color: #797268;
}
</style>
 <script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
<script type="text/javascript">
var startPoint=0;
var startPointX=0;
var startPointY=0;
var endPoint=0;
var endPointX=0;
var endPointY=0;
var startX=0;
var startY=0;
var endX=0;
var endY=0;
var mouseStauts=0;
var flag=true;
function select(id,e){
	endX=getEvent(e).x;
	endY=getEvent(e).y;
	endPoint =id;
	endPointY=endPoint%100;
	endPointX=parseInt(endPoint/100);
	
/*	flag=true;
	if(mouseStauts==1){
	    $("#main tr").each(function(trindex,tritem){
	        $(tritem).find("td").each(function(tdindex,tditem){
	        	if(endX>startX&&endY>startY){
		        	if(flag){
		        	   $(tditem).addClass("td1");
		            }
		            if($(tditem).attr("id")==id){
		            	flag=false;
		            }
	        	}
	            
	        });
	    });
	}*/
	
	if(mouseStauts==1){
		if(endX>startX){
		     for(var x=startPointX;x<endPointX+1;x++){
		            if(endY>startY){
		            	for(var y=startPointY;y<endPointY+1;y++){
		            		if(y<10){
		            			$("#"+x+"0"+y).addClass("td1");
		            		}else{
		            			$("#"+x+y).addClass("td1");
		            		}
		            		
		            	}
		            }
		        
		     }
		}
	}
}
function start(id,e){
	mouseStauts=1;
	startX=getEvent(e).x;
	startY=getEvent(e).y;
	startPoint =id;
	startPointY=startPoint%100;
	startPointX=parseInt(startPoint/100);
	//alert(startPointX+"."+startPointY);
}
function end(){
	mouseStauts=0;
}
function test(){
	var plot="";
	$("#main tr").each(function(trindex,tritem){
        $(tritem).find("td").each(function(tdindex,tditem){
            //tableData[trindex][tdindex]=$(tditem).text();
            //alert($(tditem).attr("class"));
            if($(tditem).attr("class")=="td1"){
            	plot=plot+"1";
            }else{
            	plot=plot+"0";
            }
        });
    });
	alert(plot);
}
function getEvent(e){                                  
    if (typeof e == 'undefined'){                                               
        e = window.event;                                   
        
    }                                       
    //alert(e.x?e.x : e.layerX);                                        
    if(typeof e.x == 'undefined'){                                              
        e.x = e.layerX;                                     
        
    }                                       
    if(typeof e.y == 'undefined'){                                          
        e.y = e.layerY;                                     
        
    }                                       
    return e;                               
    
} 
</script>
</head>
<body onmouseup="end()">

	
	<table  class="mytable">
	   <tr height="20px"><td width="100px"></td><td width="20px">1</td><td width="20px">2</td><td width="20px">3</td>
	   <td width="20px">4</td><td width="20px">5</td><td width="20px">6
	   </td><td width="20px">7</td><td width="20px">8</td><td width="20px">9</td>
	   <td width="20px">10</td><td width="20px">11</td><td width="20px">12</td>
	   <td width="20px">13</td><td width="20px">14</td><td width="20px">15</td>
	   <td width="20px">16</td><td width="20px">17</td><td width="20px">18</td>
	   <td width="20px">19</td><td width="20px">20</td><td width="20px">21</td>
	   <td width="20px">22</td><td width="20px">23</td><td width="20px">24</td></tr>
	   
	   <tr><td width="100px" height="20px">星期天</td><td colspan="24" rowspan="7">
	   <!-- table -->
	   <table id="main" onmouseup="end()" class="mytable">	       
	       <tr height="20px">
	       <td width="20px" id="101" onmousedown="start('101')" onmousemove="select('101')"></td><td width="20px" id="102" onmousedown="start('102')" onmousemove="select('102')"></td><td width="20px" id="103" onmousedown="start('103')" onmousemove="select('103')"></td>
	       <td width="20px" id="104" onmousedown="start('104')" onmousemove="select('104')"></td><td width="20px" id="105" onmousedown="start('105')" onmousemove="select('105')"></td><td width="20px" id="106" onmousedown="start('106')" onmousemove="select('106')"></td>
	       <td width="20px" id="107" onmousedown="start('107')" onmousemove="select('107')"></td><td width="20px" id="108" onmousedown="start('108')" onmousemove="select('108')"></td><td width="20px" id="109" onmousedown="start('109')" onmousemove="select('109')"></td>
	       <td width="20px" id="110" onmousedown="start('110')" onmousemove="select('110')"></td><td width="20px" id="111" onmousedown="start('111')" onmousemove="select('111')"></td><td width="20px" id="112" onmousedown="start('112')" onmousemove="select('112')"></td>
	       <td width="20px" id="113" onmousedown="start('113')" onmousemove="select('113')"></td><td width="20px" id="114" onmousedown="start('114')" onmousemove="select('114')"></td><td width="20px" id="115" onmousedown="start('115')" onmousemove="select('115')"></td>
	       <td width="20px" id="116" onmousedown="start('116')" onmousemove="select('116')"></td><td width="20px" id="117" onmousedown="start('117')" onmousemove="select('117')"></td><td width="20px" id="118" onmousedown="start('118')" onmousemove="select('118')"></td>
	       <td width="20px" id="119" onmousedown="start('110')" onmousemove="select('119')"></td><td width="20px" id="120" onmousedown="start('120')" onmousemove="select('120')"></td><td width="20px" id="121" onmousedown="start('121')" onmousemove="select('121')"></td>
	       <td width="20px" id="122" onmousedown="start('122')" onmousemove="select('122')"></td><td width="20px" id="123" onmousedown="start('123')" onmousemove="select('123')"></td><td width="20px" id="124" onmousedown="start('124')" onmousemove="select('124')"></td></tr>
	       
	       <tr height="20px">
	       <td width="20px" id="201" onmousedown="start('201')" onmousemove="select('201')"></td><td width="20px" id="202" onmousedown="start('202')" onmousemove="select('202')"></td><td width="20px" id="203" onmousedown="start('203')" onmousemove="select('203')"></td>
	       <td width="20px" id="204" onmousedown="start('204')" onmousemove="select('204')"></td><td width="20px" id="205" onmousedown="start('205')" onmousemove="select('205')"></td><td width="20px" id="206" onmousedown="start('206')" onmousemove="select('206')"></td>
	       <td width="20px" id="207" onmousedown="start('207')" onmousemove="select('207')"></td><td width="20px" id="208" onmousedown="start('208')" onmousemove="select('208')"></td><td width="20px" id="209" onmousedown="start('209')" onmousemove="select('209')"></td>
	       <td width="20px" id="210" onmousedown="start('210')" onmousemove="select('210')"></td><td width="20px" id="211" onmousedown="start('211')" onmousemove="select('211')"></td><td width="20px" id="212" onmousedown="start('212')" onmousemove="select('212')"></td>
	       <td width="20px" id="213" onmousedown="start('213')" onmousemove="select('213')"></td><td width="20px" id="214" onmousedown="start('214')" onmousemove="select('214')"></td><td width="20px" id="215" onmousedown="start('215')" onmousemove="select('215')"></td>
	       <td width="20px" id="216" onmousedown="start('216')" onmousemove="select('216')"></td><td width="20px" id="217" onmousedown="start('217')" onmousemove="select('217')"></td><td width="20px" id="218" onmousedown="start('218')" onmousemove="select('218')"></td>
	       <td width="20px" id="219" onmousedown="start('219')" onmousemove="select('219')"></td><td width="20px" id="220" onmousedown="start('220')" onmousemove="select('220')"></td><td width="20px" id="221" onmousedown="start('221')" onmousemove="select('221')"></td>
	       <td width="20px" id="222" onmousedown="start('222')" onmousemove="select('222')"></td><td width="20px" id="223" onmousedown="start('223')" onmousemove="select('223')"></td><td width="20px" id="224" onmousedown="start('224')" onmousemove="select('224')"></td></tr>
	       
	       <tr height="20px">
	       <td width="20px" id="301" onmousedown="start('301')" onmousemove="select('301')"></td><td width="20px" id="302" onmousedown="start('302')" onmousemove="select('302')"></td><td width="20px" id="303" onmousedown="start('303')" onmousemove="select('303')"></td>
	       <td width="20px" id="304" onmousedown="start('304')" onmousemove="select('304')"></td><td width="20px" id="305" onmousedown="start('305')" onmousemove="select('305')"></td><td width="20px" id="306" onmousedown="start('306')" onmousemove="select('306')"></td>
	       <td width="20px" id="307" onmousedown="start('307')" onmousemove="select('307')"></td><td width="20px" id="308" onmousedown="start('308')" onmousemove="select('308')"></td><td width="20px" id="309" onmousedown="start('309')" onmousemove="select('309')"></td>
	       <td width="20px" id="310" onmousedown="start('310')" onmousemove="select('310')"></td><td width="20px" id="311" onmousedown="start('311')" onmousemove="select('311')"></td><td width="20px" id="312" onmousedown="start('312')" onmousemove="select('312')"></td>
	       <td width="20px" id="313" onmousedown="start('313')" onmousemove="select('313')"></td><td width="20px" id="314" onmousedown="start('314')" onmousemove="select('314')"></td><td width="20px" id="315" onmousedown="start('315')" onmousemove="select('315')"></td>
	       <td width="20px" id="316" onmousedown="start('316')" onmousemove="select('316')"></td><td width="20px" id="317" onmousedown="start('317')" onmousemove="select('317')"></td><td width="20px" id="318" onmousedown="start('318')" onmousemove="select('318')"></td>
	       <td width="20px" id="319" onmousedown="start('319')" onmousemove="select('319')"></td><td width="20px" id="320" onmousedown="start('320')" onmousemove="select('320')"></td><td width="20px" id="321" onmousedown="start('321')" onmousemove="select('321')"></td>
	       <td width="20px" id="322" onmousedown="start('322')" onmousemove="select('322')"></td><td width="20px" id="323" onmousedown="start('323')" onmousemove="select('323')"></td><td width="20px" id="324" onmousedown="start('324')" onmousemove="select('324')"></td></tr>
	       
	       <tr height="20px">
	       <td width="20px" id="401" onmousedown="start('401')" onmousemove="select('401')"></td><td width="20px" id="402" onmousedown="start('402')" onmousemove="select('402')"></td><td width="20px" id="403" onmousedown="start('403')" onmousemove="select('403')"></td>
	       <td width="20px" id="404" onmousedown="start('404')" onmousemove="select('404')"></td><td width="20px" id="405" onmousedown="start('405')" onmousemove="select('405')"></td><td width="20px" id="406" onmousedown="start('406')" onmousemove="select('406')"></td>
	       <td width="20px" id="407" onmousedown="start('407')" onmousemove="select('407')"></td><td width="20px" id="408" onmousedown="start('408')" onmousemove="select('408')"></td><td width="20px" id="409" onmousedown="start('409')" onmousemove="select('409')"></td>
	       <td width="20px" id="410" onmousedown="start('410')" onmousemove="select('410')"></td><td width="20px" id="411" onmousedown="start('411')" onmousemove="select('411')"></td><td width="20px" id="412" onmousedown="start('412')" onmousemove="select('412')"></td>
	       <td width="20px" id="413" onmousedown="start('413')" onmousemove="select('413')"></td><td width="20px" id="414" onmousedown="start('414')" onmousemove="select('414')"></td><td width="20px" id="415" onmousedown="start('415')" onmousemove="select('415')"></td>
	       <td width="20px" id="416" onmousedown="start('416')" onmousemove="select('416')"></td><td width="20px" id="417" onmousedown="start('417')" onmousemove="select('417')"></td><td width="20px" id="418" onmousedown="start('418')" onmousemove="select('418')"></td>
	       <td width="20px" id="419" onmousedown="start('419')" onmousemove="select('419')"></td><td width="20px" id="420" onmousedown="start('420')" onmousemove="select('420')"></td><td width="20px" id="421" onmousedown="start('421')" onmousemove="select('421')"></td>
	       <td width="20px" id="422" onmousedown="start('422')" onmousemove="select('422')"></td><td width="20px" id="423" onmousedown="start('423')" onmousemove="select('423')"></td><td width="20px" id="424" onmousedown="start('424')" onmousemove="select('424')"></td></tr>
	       
	       <tr height="20px">
	       <td width="20px" id="501" onmousedown="start('501')" onmousemove="select('501')"></td><td width="20px" id="502" onmousedown="start('502')" onmousemove="select('502')"></td><td width="20px" id="503" onmousedown="start('503')" onmousemove="select('503')"></td>
	       <td width="20px" id="504" onmousedown="start('504')" onmousemove="select('504')"></td><td width="20px" id="505" onmousedown="start('505')" onmousemove="select('505')"></td><td width="20px" id="506" onmousedown="start('506')" onmousemove="select('506')"></td>
	       <td width="20px" id="507" onmousedown="start('507')" onmousemove="select('507')"></td><td width="20px" id="508" onmousedown="start('508')" onmousemove="select('508')"></td><td width="20px" id="509" onmousedown="start('509')" onmousemove="select('509')"></td>
	       <td width="20px" id="510" onmousedown="start('510')" onmousemove="select('510')"></td><td width="20px" id="511" onmousedown="start('511')" onmousemove="select('511')"></td><td width="20px" id="512" onmousedown="start('512')" onmousemove="select('512')"></td>
	       <td width="20px" id="513" onmousedown="start('513')" onmousemove="select('513')"></td><td width="20px" id="514" onmousedown="start('514')" onmousemove="select('514')"></td><td width="20px" id="515" onmousedown="start('515')" onmousemove="select('515')"></td>
	       <td width="20px" id="516" onmousedown="start('516')" onmousemove="select('516')"></td><td width="20px" id="517" onmousedown="start('517')" onmousemove="select('517')"></td><td width="20px" id="518" onmousedown="start('518')" onmousemove="select('518')"></td>
	       <td width="20px" id="519" onmousedown="start('519')" onmousemove="select('519')"></td><td width="20px" id="520" onmousedown="start('520')" onmousemove="select('520')"></td><td width="20px" id="521" onmousedown="start('521')" onmousemove="select('521')"></td>
	       <td width="20px" id="522" onmousedown="start('522')" onmousemove="select('522')"></td><td width="20px" id="523" onmousedown="start('523')" onmousemove="select('523')"></td><td width="20px" id="524" onmousedown="start('524')" onmousemove="select('524')"></td></tr>
	       
	       <tr height="20px">
	       <td width="20px" id="601" onmousedown="start('601')" onmousemove="select('601')"></td><td width="20px" id="602" onmousedown="start('602')" onmousemove="select('602')"></td><td width="20px" id="603" onmousedown="start('603')" onmousemove="select('603')"></td>
	       <td width="20px" id="604" onmousedown="start('604')" onmousemove="select('604')"></td><td width="20px" id="605" onmousedown="start('605')" onmousemove="select('605')"></td><td width="20px" id="606" onmousedown="start('606')" onmousemove="select('606')"></td>
	       <td width="20px" id="607" onmousedown="start('607')" onmousemove="select('607')"></td><td width="20px" id="608" onmousedown="start('608')" onmousemove="select('608')"></td><td width="20px" id="609" onmousedown="start('609')" onmousemove="select('609')"></td>
	       <td width="20px" id="610" onmousedown="start('610')" onmousemove="select('610')"></td><td width="20px" id="611" onmousedown="start('611')" onmousemove="select('611')"></td><td width="20px" id="612" onmousedown="start('612')" onmousemove="select('612')"></td>
	       <td width="20px" id="613" onmousedown="start('613')" onmousemove="select('613')"></td><td width="20px" id="614" onmousedown="start('614')" onmousemove="select('614')"></td><td width="20px" id="615" onmousedown="start('615')" onmousemove="select('615')"></td>
	       <td width="20px" id="616" onmousedown="start('616')" onmousemove="select('616')"></td><td width="20px" id="617" onmousedown="start('617')" onmousemove="select('617')"></td><td width="20px" id="618" onmousedown="start('618')" onmousemove="select('618')"></td>
	       <td width="20px" id="619" onmousedown="start('619')" onmousemove="select('619')"></td><td width="20px" id="620" onmousedown="start('620')" onmousemove="select('620')"></td><td width="20px" id="621" onmousedown="start('621')" onmousemove="select('621')"></td>
	       <td width="20px" id="622" onmousedown="start('622')" onmousemove="select('622')"></td><td width="20px" id="623" onmousedown="start('623')" onmousemove="select('623')"></td><td width="20px" id="624" onmousedown="start('624')" onmousemove="select('624')"></td></tr>
	       	   
           <tr height="20px">
           <td width="20px" id="701" onmousedown="start('701')" onmousemove="select('701')"></td><td width="20px" id="702" onmousedown="start('702')" onmousemove="select('702')"></td><td width="20px" id="703" onmousedown="start('703')" onmousemove="select('703')"></td>
           <td width="20px" id="704" onmousedown="start('704')" onmousemove="select('704')"></td><td width="20px" id="705" onmousedown="start('705')" onmousemove="select('705')"></td><td width="20px" id="706" onmousedown="start('706')" onmousemove="select('706')"></td>
           <td width="20px" id="707" onmousedown="start('707')" onmousemove="select('707')"></td><td width="20px" id="708" onmousedown="start('708')" onmousemove="select('708')"></td><td width="20px" id="709" onmousedown="start('709')" onmousemove="select('709')"></td>
           <td width="20px" id="710" onmousedown="start('710')" onmousemove="select('710')"></td><td width="20px" id="711" onmousedown="start('711')" onmousemove="select('711')"></td><td width="20px" id="712" onmousedown="start('712')" onmousemove="select('712')"></td>
           <td width="20px" id="713" onmousedown="start('713')" onmousemove="select('713')"></td><td width="20px" id="714" onmousedown="start('714')" onmousemove="select('714')"></td><td width="20px" id="715" onmousedown="start('715')" onmousemove="select('715')"></td>
           <td width="20px" id="716" onmousedown="start('716')" onmousemove="select('716')"></td><td width="20px" id="717" onmousedown="start('717')" onmousemove="select('717')"></td><td width="20px" id="718" onmousedown="start('718')" onmousemove="select('718')"></td>
           <td width="20px" id="719" onmousedown="start('719')" onmousemove="select('719')"></td><td width="20px" id="720" onmousedown="start('720')" onmousemove="select('720')"></td><td width="20px" id="721" onmousedown="start('721')" onmousemove="select('721')"></td>
           <td width="20px" id="722" onmousedown="start('722')" onmousemove="select('722')"></td><td width="20px" id="723" onmousedown="start('723')" onmousemove="select('723')"></td><td width="20px" id="724" onmousedown="start('724')" onmousemove="select('724')"></td></tr>
	       	   
	   </table>
	   <!-- table -->
	   </td></tr>
	   <tr height="20px"><td width="100px">星期一</td></tr>
        <tr height="20px"><td width="100px">星期二</td></tr>
        <tr height="20px"><td width="100px">星期三</td></tr>
        <tr height="20px"><td width="100px">星期四</td></tr>
        <tr height="20px"><td width="100px">星期五</td></tr>
        <tr height="20px"><td width="100px">星期六</td></tr>
	</table>
	
	
	<input type="button" onclick="test()" value="test"/>
</body>
</html>